{
  "workflow": {
    "description": "Instructions for Claude instances working on tasks",
    "commit_and_merge": {
      "steps": [
        "1. Create a feature branch from main",
        "2. Commit changes with DCO sign-off (-s flag)",
        "3. Push branch and create PR with gh pr create",
        "4. Monitor GitHub Actions: wait for build, lint, and preview checks to pass",
        "5. IGNORE playwright tests (they often fail in CI - do not wait for them)",
        "6. Once build/lint/preview pass, merge with gh pr merge --admin --squash",
        "7. Update task status to completed in tasks.json",
        "8. Add a test task to verify the completed feature works correctly"
      ],
      "required_checks": ["build", "lint", "preview"],
      "ignore_checks": ["playwright", "Test (chromium)", "Test (firefox)", "Test (webkit)", "Visual Regression", "Accessibility Tests", "Mobile Browser Tests"],
      "best_practices": [
        "Commit and create PRs regularly - don't wait until everything is done",
        "Small, focused PRs are easier to review and merge",
        "Always add a test task after merging a feature to verify it works",
        "Use 'unset GITHUB_TOKEN && gh auth setup-git' if git push fails"
      ]
    }
  },
  "tasks": [
    {
      "id": "gpu-offline-detection",
      "subject": "Add AI mission to detect when nodes or GPUs go offline",
      "description": "Create an AI mission that monitors and detects when Kubernetes nodes go offline or GPUs become unavailable on nodes. This should alert or take action when nodes become unavailable or when GPUs stop reporting (like the nvidia driver pods failing). Could integrate with the existing cluster health monitoring or be a standalone mission that checks node status and nvidia.com/gpu resource availability.",
      "status": "completed",
      "priority": "high",
      "created": "2025-01-27",
      "completed": "2026-01-27",
      "tags": ["ai-mission", "monitoring", "gpu", "nodes"]
    },
    {
      "id": "test-offline-detection",
      "subject": "Test offline detection mission card",
      "description": "Verify the new OfflineDetectionCard works correctly: 1) Card appears in dashboard, 2) Shows green 'All Healthy' when no issues, 3) Detects nodes with NotReady status, 4) Detects GPU nodes with 0 GPUs, 5) 'Analyze Issues' button starts AI mission correctly, 6) Drill-down links work.",
      "status": "pending",
      "priority": "high",
      "created": "2026-01-27",
      "tags": ["testing", "verification", "ai-mission", "gpu", "nodes"]
    },
    {
      "id": "resource-usage-similar",
      "subject": "Why is resource usage card similar across clusters?",
      "description": "Investigate why the resource usage card shows similar values across different clusters. This could be a bug with data fetching, caching, or the card displaying the same data source for all clusters instead of cluster-specific metrics.",
      "status": "completed",
      "priority": "medium",
      "created": "2025-01-27",
      "completedAt": "2026-01-27",
      "tags": ["bug", "investigation", "resource-usage", "clusters"],
      "resolution": "Fixed by: 1) Replacing hardcoded 67%/65% usage estimates with actual pod resource requests (cpuRequestsCores, memoryRequestsGB) in ResourceUsage.tsx and ResourcesDrillDown.tsx, 2) Adding getPodMetrics() to kubectlProxy to sum container requests, 3) Fixing shareMetricsBetweenSameServerClusters to copy request metrics between clusters with same server."
    },
    {
      "id": "resource-capacity-zero",
      "subject": "Resource capacity showing 0 for cpu and mem",
      "description": "Resource capacity card is showing 0 for CPU and memory values. Investigate why capacity metrics are not being fetched or displayed correctly.",
      "status": "completed",
      "priority": "high",
      "created": "2025-01-27",
      "completedAt": "2026-01-27",
      "tags": ["bug", "resource-capacity", "cpu", "memory"],
      "resolution": "Fixed by only showing resource metrics when capacity data is available. Now shows 'Loading capacity data...' while fetching instead of misleading '0 / 0' values."
    },
    {
      "id": "opa-policies-empty",
      "subject": "OPA policies empty",
      "description": "OPA policies card or section is showing empty. Investigate why OPA/Gatekeeper policies are not being fetched or displayed.",
      "status": "pending",
      "priority": "medium",
      "created": "2025-01-27",
      "tags": ["bug", "opa", "gatekeeper", "policies"]
    },
    {
      "id": "github-issues-workflow",
      "subject": "Convert issue and feature request workflow to GitHub",
      "description": "Convert the current issue and feature request workflow to use GitHub Issues instead of the custom implementation. This will integrate better with the GitHub ecosystem and provide standard issue tracking.",
      "status": "pending",
      "priority": "medium",
      "created": "2025-01-27",
      "tags": ["feature", "github", "issues", "workflow"]
    },
    {
      "id": "console-docs-weekly-release",
      "subject": "Create console docs for weekly release in kubestellar/docs",
      "description": "Create comprehensive documentation for KubeStellar Console in kubestellar/docs repository for the weekly release. Features documented: Updates (nightly/weekly), LinkedIn sharing, KubeStellar rewards (coins), 100+ cards, stat blocks, dashboards. Created 5 doc files and captured 5 screenshots using demo mode.",
      "status": "completed",
      "priority": "high",
      "created": "2026-01-27",
      "completed": "2026-01-27",
      "tags": ["documentation", "weekly-release", "demo-mode", "kubestellar-docs"]
    },
    {
      "id": "pod-count-dynamic-updates",
      "subject": "Verify pod counts update dynamically across UI",
      "description": "Investigate whether pod counts are dynamically updated everywhere in the UI. The pod numbers should fluctuate as pods are created/deleted. Check: 1) Cluster cards show live pod counts, 2) Resource usage card reflects pod changes, 3) Pod-related drill-downs update in real-time, 4) Health checks poll frequently enough to catch changes.",
      "status": "pending",
      "priority": "medium",
      "created": "2026-01-27",
      "tags": ["investigation", "pods", "real-time", "ui"]
    },
    {
      "id": "upgrade-status-offline",
      "subject": "Upgrade status showing offline - needs caching support",
      "description": "The upgrade status card/feature is showing clusters as offline when they shouldn't be. Needs investigation and likely requires adding caching support to prevent false offline states during API delays or temporary connectivity issues. Similar pattern to how cluster health was fixed - should cache last known good state and show that while refreshing.",
      "status": "completed",
      "priority": "high",
      "created": "2026-01-27",
      "completedAt": "2026-01-27",
      "tags": ["bug", "upgrade-status", "caching", "offline"],
      "resolution": "Added module-level version cache with 5-minute TTL to UpgradeStatus card. Cached versions are returned during failures. Added loading state with spinner icon for clusters being checked."
    },
    {
      "id": "cluster-health-status-fluctuating",
      "subject": "Cluster health status keeps changing to degraded/offline",
      "description": "In the Cluster Health card, individual cluster status indicators keep fluctuating between healthy, degraded, and offline states. The stats at the top may be correct (Healthy: 4) but individual cluster status dots are showing yellow/orange when they should be green. Need to stabilize the status display with hysteresis/debouncing to prevent constant state changes during refresh cycles.",
      "status": "completed",
      "priority": "high",
      "created": "2026-01-27",
      "completedAt": "2026-01-27",
      "tags": ["bug", "cluster-health", "status", "fluctuating", "ui"],
      "resolution": "Fixed by: 1) Detecting definitive connection errors (refused/reset/no host) and marking offline immediately, 2) Fixing isClusterHealthy() to check reachable flag, 3) Fixing getClusterStateFromInfo to pass reachable status, 4) Resetting nodeCount to 0 when confirmed offline."
    },
    {
      "id": "resource-marshall-scroll-to-top",
      "subject": "Resource Marshall: selecting a workload scrolls dashboard to top",
      "description": "When selecting a workload in the Resource Marshall card dropdown, the dashboard page scrolls to the top, forcing the user to scroll back down to see the Resource Marshall card content. The card should maintain scroll position when a workload is selected. Likely caused by a state update triggering a re-render that resets scroll position, or a focus/scroll-into-view call somewhere in the card or parent layout.",
      "status": "pending",
      "priority": "medium",
      "created": "2026-02-09",
      "tags": ["bug", "resource-marshall", "scroll", "ux"]
    },
    {
      "id": "opa-policies-loading-state",
      "subject": "OPA policies card: show skeleton and refresh icon animation on initial load",
      "description": "When the OPA Policies card first opens, it shows empty/minimized state instead of loading indicators. Should show skeleton placeholders while data is being fetched and animate the refresh icon to indicate loading is in progress. Currently shows 'Checking...' per cluster but the card itself appears empty/minimized initially.",
      "status": "pending",
      "priority": "medium",
      "created": "2026-02-09",
      "tags": ["bug", "opa", "loading-state", "skeleton", "ux"]
    },
    {
      "id": "cluster-health-false-positive",
      "subject": "Clusters briefly show healthy on page load before going offline",
      "description": "When navigating to the clusters dashboard, some offline clusters initially show as healthy (green checkmark) before transitioning to offline. This resets on every page refresh. The problem is that clusters are marked healthy before their metrics (CPU, memory, nodes, pods) are populated. Fix: don't mark a cluster as healthy until its capacity/metric data has been fetched. It's fine to show a loading/checking state while polling, but don't show green healthy status until real data confirms it.",
      "status": "completed",
      "priority": "high",
      "created": "2026-02-09",
      "completedAt": "2026-02-10",
      "tags": ["bug", "cluster-health", "false-positive", "ux"],
      "resolution": "Made healthy field optional (undefined=not yet checked). Removed forced healthy:true in fetchClusterListFromAgent(). Added cache merge for healthy/reachable in mergeWithStoredClusters() to preserve last-known state. Updated isInitialLoading() to show spinner until health check sets definitive healthy value. PR #785."
    },
    {
      "id": "ai-ml-cards-skeleton-loading",
      "subject": "Add skeleton loading and refresh animation to all AI/ML and AI Agent dashboard cards",
      "description": "All cards on the AI/ML Workloads, AI Agents, and GPU Reservations dashboards show empty/collapsed states until data loads. They should display skeleton placeholders and animate the refresh icon while fetching data.\n\nAffected cards:\n\n**AI/ML Dashboard (14 cards):**\n- LLMdFlow (llmd_flow) - LLM-d request flow visualization\n- KVCacheMonitor (kvcache_monitor) - KV cache metrics\n- EPPRouting (epp_routing) - EPP routing visualization\n- PDDisaggregation (pd_disaggregation) - Prefill/Decode visualization\n- LLMdBenchmarks (llmd_benchmarks) - Performance benchmarks\n- LLMdAIInsights (llmd_ai_insights) - AI insights and anomaly detection\n- LLMdConfigurator (llmd_configurator) - LLM-d stack configuration\n- LLMModels (llm_models) - LLM model serving instances\n- LLMInference (llm_inference) - LLM inference servers\n- LLMdStackMonitor (llmd_stack_monitor) - Overall stack health\n- MLJobs (ml_jobs) - ML training jobs\n- MLNotebooks (ml_notebooks) - Jupyter/ML notebooks\n- GPUOverview (gpu_overview) - GPU count and allocation\n- HardwareHealth\n\n**AI Agents Dashboard (7 cards):**\n- KagentiStatusCard (kagenti_status) - Agent fleet overview\n- KagentiAgentFleet (kagenti_agent_fleet) - Agent list\n- KagentiBuildPipeline (kagenti_build_pipeline) - Build pipeline\n- KagentiToolRegistry (kagenti_tool_registry) - MCP tools\n- KagentiAgentDiscovery (kagenti_agent_discovery) - Agent discovery\n- KagentiSecurityPosture (kagenti_security_posture) - Security posture\n- KagentiTopology (kagenti_topology) - Network topology\n\n**GPU Reservations Dashboard (7 cards):**\n- GPUOverview (gpu_overview) - GPU overview\n- GPUStatus (gpu_status) - Per-cluster GPU status\n- GPUInventory (gpu_inventory) - Per-node GPU inventory\n- GPUUtilization (gpu_utilization) - GPU utilization donut chart\n- GPUUsageTrend (gpu_usage_trend) - Historical GPU trends\n- GPUWorkloads (gpu_workloads) - GPU-requesting workloads\n- HardwareHealth\n\nFor each card:\n1. Show skeleton placeholders (shimmer bars/circles) while data is loading\n2. Animate the refresh icon (spin) during data fetch\n3. Card should maintain its expanded size during loading (not collapse)\n4. Follow the same pattern used by OPA Policies card (opa-policies-loading-state task)",
      "status": "completed",
      "priority": "medium",
      "created": "2026-02-09",
      "completedAt": "2026-02-09",
      "tags": ["ux", "skeleton", "loading-state", "ai-ml", "ai-agents", "gpu", "dashboard-cards"],
      "resolution": "Fixed in PR #775. Added useCardLoadingState to MLJobs, MLNotebooks, LLMdStackMonitor, KagentiTopology, KagentiSecurity. Added useReportCardDataState with hasData:true to LLMdConfigurator. Added hasData:true to 6 LLM-d visualization cards (LLMdFlow, EPPRouting, LLMdAIInsights, PDDisaggregation, KVCacheMonitor, LLMdBenchmarks)."
    },
    {
      "id": "arcade-cards-skeleton-loading",
      "subject": "Add skeleton loading and refresh animation to all Arcade dashboard cards",
      "description": "All game cards on the Arcade dashboard show empty/collapsed states until the game loads. They should display skeleton placeholders and animate the refresh icon while loading.\n\nAffected cards (22 games):\n- Checkers, KubeChess, SudokuGame, ContainerTetris, NodeInvaders\n- KubeMan, KubeKong, PodCrosser, PodPitfall, PodBrothers\n- KubeGalaga, KubePong, KubeSnake, KubeKart, Game2048\n- PodSweeper, Kubedle, MatchGame, Solitaire, FlappyPod\n- KubeCraft, KubeDoom\n\nFor each card: add useReportCardDataState({ hasData: true }) since games are self-contained (no external data fetch). This tells CardWrapper the card is ready immediately.",
      "status": "pending",
      "priority": "medium",
      "created": "2026-02-10",
      "tags": ["ux", "skeleton", "loading-state", "arcade", "games", "dashboard-cards"]
    },
    {
      "id": "alerts-cards-skeleton-loading",
      "subject": "Add skeleton loading and refresh animation to all Alerts dashboard cards",
      "description": "Cards on the Alerts dashboard show empty/collapsed states until data loads. They should display skeleton placeholders and animate the refresh icon while fetching data.\n\nAffected cards:\n- ActiveAlerts (active_alerts)\n- AlertRules (alert_rules)\n- FalcoAlerts (falco_alerts) - if missing hook\n- WarningEvents (warning_events)\n- EventSummary (event_summary)\n\nFor each card: verify if useCardLoadingState or useReportCardDataState is already present. If missing, add the appropriate hook based on whether the card fetches data (useCardLoadingState) or shows static/demo data (useReportCardDataState with hasData:true).",
      "status": "pending",
      "priority": "medium",
      "created": "2026-02-10",
      "tags": ["ux", "skeleton", "loading-state", "alerts", "dashboard-cards"]
    },
    {
      "id": "cost-cards-skeleton-loading",
      "subject": "Add skeleton loading and refresh animation to all Cost dashboard cards",
      "description": "Cards on the Cost dashboard show empty/collapsed states until data loads.\n\nAffected cards:\n- ClusterCosts (cluster_costs)\n- KubecostOverview (kubecost_overview) - static demo data\n- OpenCostOverview (opencost_overview) - static demo data\n- ResourceCapacity (resource_capacity)\n- ResourceTrend (resource_trend)\n\nFor each card: verify if useCardLoadingState or useReportCardDataState is already present. If missing, add the appropriate hook.",
      "status": "pending",
      "priority": "medium",
      "created": "2026-02-10",
      "tags": ["ux", "skeleton", "loading-state", "cost", "dashboard-cards"]
    },
    {
      "id": "data-compliance-cards-skeleton-loading",
      "subject": "Add skeleton loading and refresh animation to all Data Compliance dashboard cards",
      "description": "Cards on the Data Compliance dashboard show empty/collapsed states until data loads.\n\nAffected cards:\n- VaultSecrets (vault_secrets)\n- ExternalSecrets (external_secrets)\n- CertManager (cert_manager)\n- NamespaceRBAC (namespace_rbac)\n\nFor each card: verify if useCardLoadingState or useReportCardDataState is already present. If missing, add the appropriate hook.",
      "status": "pending",
      "priority": "medium",
      "created": "2026-02-10",
      "tags": ["ux", "skeleton", "loading-state", "data-compliance", "dashboard-cards"]
    },
    {
      "id": "helm-cards-skeleton-loading",
      "subject": "Add skeleton loading and refresh animation to all Helm dashboard cards",
      "description": "Cards on the Helm dashboard show empty/collapsed states until data loads.\n\nAffected cards:\n- HelmReleaseStatus (helm_release_status)\n- ChartVersions (chart_versions)\n- HelmHistory (helm_history)\n- HelmValuesDiff (helm_values_diff)\n\nFor each card: verify if useCardLoadingState or useReportCardDataState is already present. If missing, add the appropriate hook.",
      "status": "pending",
      "priority": "medium",
      "created": "2026-02-10",
      "tags": ["ux", "skeleton", "loading-state", "helm", "dashboard-cards"]
    },
    {
      "id": "network-cards-skeleton-loading",
      "subject": "Add skeleton loading and refresh animation to all Network dashboard cards",
      "description": "Cards on the Network dashboard show empty/collapsed states until data loads.\n\nAffected cards:\n- NetworkOverview (network_overview)\n- ServiceStatus (service_status)\n- IngressStatus (ingress_status) - if present\n- NetworkPolicyStatus (network_policy_status) - if present\n\nFor each card: verify if useCardLoadingState or useReportCardDataState is already present. If missing, add the appropriate hook.",
      "status": "pending",
      "priority": "medium",
      "created": "2026-02-10",
      "tags": ["ux", "skeleton", "loading-state", "network", "dashboard-cards"]
    },
    {
      "id": "services-cards-skeleton-loading",
      "subject": "Add skeleton loading and refresh animation to all Services dashboard cards",
      "description": "Cards on the Services dashboard show empty/collapsed states until data loads.\n\nAffected cards:\n- ServiceStatus (service_status)\n- IngressStatus (ingress_status) - if present\n- GatewayStatus (gateway_status)\n- ServiceExports (service_exports)\n- ServiceImports (service_imports)\n- ServiceTopology (service_topology) - static demo data\n\nFor each card: verify if useCardLoadingState or useReportCardDataState is already present. If missing, add the appropriate hook.",
      "status": "pending",
      "priority": "medium",
      "created": "2026-02-10",
      "tags": ["ux", "skeleton", "loading-state", "services", "dashboard-cards"]
    }
  ]
}
